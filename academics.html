<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Thamaga Junior Secondary School</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        
        <!--Navbar-->
        <nav class="navbar navbar-expand-lg navbar-light bg-white boarder-bottom">
            <div class="container">
                <a class="navbar-brand fw-bold" href="images.jpeg" THAMAGA JUNIOR SECONDARY SCHOOL>
                    <img src="images.jpeg" alt="Thamsec Logo" width="40" height="40" class="me-2">
                    <span class="fw-bold">THAMAGA JUNIOR SECONDARY SCHOOL</span>
                </a>        
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="home.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
                        <li class="nav-item"><a class="nav-link" href="academics.html">Academics</a></li>
                        <li class="nav-item"><a class="nav-link" href="discover.html">Discover</a></li>
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container py-5">
            <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="text-primary">Academic Results Tracker</h2>
            
            <!-- Admin Toggle Button -->
            <button id="toggleAdminBtn" class="btn btn-outline-secondary btn-sm">
                Login as Admin
            </button>
            </div>

            <!-- Admin Only: Add Result Form -->
            <form id="result-form" class="row g-3 mb-4 d-none">
            <div class="col-md-3">
                <label for="year" class="form-label">Year</label>
                <input type="number" class="form-control" id="year" required />
            </div>
            <div class="col-md-3">
                <label for="className" class="form-label">Class</label>
                <input type="text" class="form-control" id="className" placeholder="e.g. Grade 10" required />
            </div>
            <div class="col-md-3">
                <label for="averageScore" class="form-label">Average Score (%)</label>
                <input type="number" class="form-control" id="averageScore" required />
            </div>
            <div class="col-md-3 d-flex align-items-end">
                <button type="submit" class="btn btn-success w-100">Add Result</button>
            </div>
            </form>

            <!-- Results Table -->
            <div class="table-responsive">
            <table class="table table-bordered table-hover" id="results-table">
                <thead class="table-dark">
                <tr>
                    <th>Year</th>
                    <th>Class</th>
                    <th>Average Score (%)</th>
                </tr>
                </thead>
                <tbody>
                <!-- Rows inserted by JS -->
                </tbody>
            </table>
            </div>
        </div>

        <!-- Bootstrap Bundle JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            const academicResults = [
            { year: 2022, className: 'Grade 10', averageScore: 72 },
            { year: 2023, className: 'Grade 11', averageScore: 78 },
            ];

            let isAdmin = false;

            const tableBody = document.querySelector('#results-table tbody');
            const form = document.getElementById('result-form');
            const toggleAdminBtn = document.getElementById('toggleAdminBtn');

            function renderResults() {
            tableBody.innerHTML = '';
            academicResults.forEach(result => {
                const row = document.createElement('tr');
                row.innerHTML = `
                <td>${result.year}</td>
                <td>${result.className}</td>
                <td>${result.averageScore}%</td>
                `;
                tableBody.appendChild(row);
            });
            }

            function toggleAdminAccess() {
            isAdmin = !isAdmin;
            form.classList.toggle('d-none', !isAdmin);
            toggleAdminBtn.textContent = isAdmin ? 'Logout Admin' : 'Login as Admin';
            }

            form.addEventListener('submit', function (e) {
            e.preventDefault();
            const year = document.getElementById('year').value;
            const className = document.getElementById('className').value;
            const averageScore = document.getElementById('averageScore').value;

            academicResults.push({
                year: parseInt(year),
                className,
                averageScore: parseFloat(averageScore),
            });

            form.reset();
            renderResults();
            });

            toggleAdminBtn.addEventListener('click', toggleAdminAccess);
            renderResults();
        </script>
        
    </body>
</html>    